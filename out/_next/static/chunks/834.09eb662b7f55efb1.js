"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{9834:function(e,t,r){r.r(t);var n=r(5893),c=r(7294),l=r(8384),i=r(9477),u=r(9365);t.default=e=>{let{projects:t}=e,r=(0,c.useRef)(null),s=(0,c.useRef)(null),a=(0,c.useRef)(null),o=(0,c.useRef)(null),d=(0,c.useRef)(null),h=(0,c.useRef)([]),m=(0,c.useRef)(null),f=(0,c.useRef)(new i.FM8),[p,g]=(0,c.useState)(null),[w,v]=(0,c.useState)(null);return(0,c.useEffect)(()=>{if(!r.current)return;let e=new i.xsS;e.background=new i.Ilk(0),e.fog=new i.ybr(0,10,50),s.current=e;let t=new i.cPb(60,r.current.clientWidth/r.current.clientHeight,.1,100);t.position.set(0,0,15),a.current=t;let n=new i.CP7({antialias:!0});n.setSize(r.current.clientWidth,r.current.clientHeight),n.setPixelRatio(Math.min(window.devicePixelRatio,2)),n.shadowMap.enabled=!0,r.current.appendChild(n.domElement),o.current=n;let c=new i.Mig(16777215,.5);e.add(c);let l=new i.Ox3(16777215,1);l.position.set(5,5,5),l.castShadow=!0,e.add(l);let f=new u.z(t,n.domElement);f.enableDamping=!0,f.dampingFactor=.05,f.screenSpacePanning=!1,f.maxPolarAngle=Math.PI/2,f.minDistance=5,f.maxDistance=30,d.current=f,m.current=new i.iMs;let p=()=>{r.current&&(t.aspect=r.current.clientWidth/r.current.clientHeight,t.updateProjectionMatrix(),n.setSize(r.current.clientWidth,r.current.clientHeight))};return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p),r.current&&o.current&&r.current.removeChild(o.current.domElement),h.current.forEach(e=>{e.geometry.dispose(),e.material.dispose()})}},[]),(0,c.useEffect)(()=>{if(!s.current||!t||0===t.length)return;h.current.forEach(e=>{s.current.remove(e),e.geometry.dispose(),e.material.dispose()}),h.current=[];let e=[];t.forEach((r,n)=>{let c=n/t.length*Math.PI*2,l=10*Math.cos(c),u=10*Math.sin(c),a=new i.DvJ(3,3,3),o=new i.Wid({color:3900150,metalness:.5,roughness:.5}),d=new i.Kj0(a,o);d.position.set(l,0,u),d.lookAt(0,0,0),d.userData={project:r,index:n},s.current.add(d),e.push(d)}),h.current=e},[t]),(0,c.useEffect)(()=>{if(!r.current)return;let e=e=>{let t=r.current.getBoundingClientRect();f.current.x=(e.clientX-t.left)/r.current.clientWidth*2-1,f.current.y=-((e.clientY-t.top)/r.current.clientHeight*2)+1},t=()=>{w&&g(w)};return r.current.addEventListener("mousemove",e),r.current.addEventListener("click",t),()=>{var n,c;null===(n=r.current)||void 0===n||n.removeEventListener("mousemove",e),null===(c=r.current)||void 0===c||c.removeEventListener("click",t)}},[w]),(0,c.useEffect)(()=>{let e;if(!s.current||!a.current||!o.current)return;let t=()=>{if(e=requestAnimationFrame(t),d.current&&d.current.update(),m.current&&a.current&&h.current.length>0){m.current.setFromCamera(f.current,a.current);let e=m.current.intersectObjects(h.current);if(h.current.forEach(e=>{e.userData.project!==(null==p?void 0:p.project)&&(e.material.color.set(3900150),e.scale.set(1,1,1))}),e.length>0){let t=e[0].object;t.material.color.set(6333946),t.scale.set(1.1,1.1,1.1),v(t.userData)}else v(null)}o.current.render(s.current,a.current)};return t(),()=>{cancelAnimationFrame(e)}},[p]),(0,n.jsxs)("div",{className:"relative w-full h-[600px]",children:[(0,n.jsx)("div",{ref:r,className:"w-full h-full rounded-lg overflow-hidden"}),p&&(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-80 p-6 rounded-t-lg",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold mb-2",children:p.project.title}),(0,n.jsx)("p",{className:"text-gray-300 mb-4",children:p.project.description}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("a",{href:p.project.url,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"View Project"}),(0,n.jsx)("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-white transition-colors",children:"Close"})]})]}),w&&!p&&(0,n.jsx)("div",{className:"absolute top-4 left-4 bg-black bg-opacity-70 p-2 rounded",children:(0,n.jsx)("p",{className:"text-white",children:w.project.title})})]})}}}]);